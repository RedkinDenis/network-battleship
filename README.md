# Network Battleship

Сетевая игра "Морской бой" с клиент-серверной архитектурой.

## Архитектура проекта

### Клиентская часть (client/)
Клиент реализован на Qt6 и состоит из следующих основных компонентов:

1. **MainWindow** (`mainwindow.hpp/cpp`)
   - Основное окно приложения
   - Управляет UI и взаимодействием с сервером
   - Обрабатывает события пользователя
   - Основные методы:
     - `connectUser()` - подключение к серверу
     - `authenticateUser()` - авторизация пользователя
     - `handleData()` - обработка данных от сервера
     - `startGame()` - начало игры
     - `finishGame()` - завершение игры

2. **Field** (`field.hpp/cpp`)
   - Класс игрового поля
   - Управляет состоянием клеток и кораблей
   - Основные методы:
     - `generate()` - случайная генерация кораблей
     - `isCorrect()` - проверка корректности расстановки
     - `getCell()/setCell()` - работа с клетками поля

3. **Model** (`model.hpp/cpp`)
   - Модель данных игры
   - Хранит состояние игры и поля
   - Основные методы:
     - `updateState()` - обновление состояния игры
     - `getMyField()/getEnemyField()` - доступ к полям

4. **Controller** (`controller.hpp/cpp`)
   - Контроллер, связывающий UI и модель
   - Обрабатывает логику игры
   - Основные методы:
     - `handleShot()` - обработка выстрела
     - `updateField()` - обновление поля

### Серверная часть (server/)
Сервер обрабатывает подключения клиентов и управляет игровыми сессиями.

## Протокол обмена данными

Обмен данными между клиентом и сервером происходит в формате:
```
КОМАНДА:ДАННЫЕ@
```

Основные команды:
- `AUTH` - авторизация
- `SHOT` - выстрел
- `FIELD` - передача состояния поля
- `GAME` - управление игрой
- `MSG` - сообщения чата

## Состояния игры

1. `ST_GAME_NSTARTED` - игра не начата
2. `ST_PLACING_SHIPS` - расстановка кораблей
3. `ST_WAITING_PLACING` - ожидание расстановки противником
4. `ST_WAITING_STEP` - ожидание хода противника
5. `ST_MAKING_STEP` - выполнение хода
6. `ST_GAME_FINISHED` - игра завершена

## Запуск проекта

1. Сборка клиента:
```bash
cd client
qmake
make
```

2. Сборка сервера:
```bash
cd server
make
```

3. Запуск:
```bash
# Запуск сервера
./server/server

# Запуск клиента
./client/client
```

## Authors
- Titov Artem
- Redkin Denis
- Martynenko Egor
